import{c as p,r as u,d as h,j as e,I as r,n as f,e as g,p as j,f as w,B as y,g as N,h as i}from"./index-CNfmmmxb.js";import{s as v}from"./SideImage-wEGtFHEt.js";function C(){const{register:s,formState:{errors:a},handleSubmit:n,getValues:o}=p(),[d,l]=u.useState(!1),c=h();async function m(t){try{l(!0),(await N.post("https://ecommerce.routemisr.com/api/v1/auth/signup",t)).data.message==="success"&&(i.success("Successfully Created"),c("/login"))}catch{i.error("There is an error")}finally{l(!1)}}return e.jsxs("div",{className:"container flex py-6 gap-x-6 items-center layout",children:[e.jsx("div",{className:"xs:hidden md:block md:w-1/2",children:e.jsx("img",{className:"w-full",src:v,alt:`products\r
        `})}),e.jsxs("div",{className:"xs:w-full md:w-1/2 text-primary",children:[e.jsx("h3",{className:"text-3xl mb-2",children:"Create an account"}),e.jsx("p",{children:"Enter Your details below"}),e.jsxs("form",{onSubmit:n(m),className:"space-y-2",children:[e.jsx("div",{className:"flex flex-col ",children:e.jsx(r,{type:"text",id:"name",errors:a,name:"name",placeholder:"Your Name",register:s,regex:f})}),e.jsx("div",{className:"flex flex-col ",children:e.jsx(r,{type:"email",id:"email",errors:a,name:"email",placeholder:"Email",register:s,regex:g})}),e.jsx("div",{className:"flex flex-col ",children:e.jsx(r,{type:"tel",id:"phone",errors:a,placeholder:"Phone Number",name:"phone",register:s,regex:j})}),e.jsx("div",{className:"flex flex-col ",children:e.jsx(r,{placeholder:"Password",id:"password",name:"password",readOnly:!1,type:"password",register:s,regex:w,errors:a})}),e.jsx("div",{className:"flex flex-col ",children:e.jsx(r,{id:"rePassword",name:"rePassword",placeholder:"Confirm password",type:"password",errors:a,register:s,regex:{required:"Required Input",pattern:{value:/^(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/,message:"start with capital letter, at least one number and symbol"},validate:t=>t===o().password||"passwords doesn't match"}})}),e.jsx(y,{isLoading:d,textContent:"Create Account",styles:"px-5 bg-primary py-2 text-white"})]})]})]})}export{C as default};
